{"version":3,"sources":["js/dynamicAdapt.js","script.js"],"names":["useDynamicAdapt","type","arguments","length","undefined","className","attrName","dNodes","getDNodes","dMediaQueries","getDMediaQueries","forEach","dMediaQuery","matchMedia","window","query","filteredDNodes","filter","_ref","breakpoint","mediaHandler","getMediaHandler","addEventListener","result","elements","_toConsumableArray","document","querySelectorAll","concat","element","attr","getAttribute","_attr$split$map","split","map","val","trim","_attr$split$map2","_slicedToArray","toSelector","order","to","querySelector","push","parent","parentElement","isNumber","Number","index","sortDNodes","items","uniqItems","Set","_ref2","item","_item$split","_item$split2","matches","moveTo","reverse","classList","contains","moveBack","dNode","getIndexInParent","add","children","append","prepend","before","remove","indexOf","isMin","sort","a","b","value","isNaN","_dynamicAdapt","require","$","companiesSwiper","Swiper","slidesPerView","spaceBetween","pagination","el","clickable","breakpoints","click","header","toggleClass","hasClass","show","hide"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["/**\r\n * @typedef {Object} dNode\r\n * @property {HTMLElement} parent\r\n * @property {HTMLElement} element\r\n * @property {HTMLElement} to\r\n * @property {string} breakpoint\r\n * @property {string} order\r\n * @property {number} index\r\n */\r\n\r\n/**\r\n * @typedef {Object} dMediaQuery\r\n * @property {string} query\r\n * @property {number} breakpoint\r\n */\r\n\r\n/**\r\n * @param {'min' | 'max'} type\r\n */\r\nexport function useDynamicAdapt(type = \"max\") {\r\n  const className = \"_dynamic_adapt_\";\r\n  const attrName = \"data-da\";\r\n\r\n  /** @type {dNode[]} */\r\n  const dNodes = getDNodes();\r\n\r\n  /** @type {dMediaQuery[]} */\r\n  const dMediaQueries = getDMediaQueries(dNodes);\r\n\r\n  dMediaQueries.forEach((dMediaQuery) => {\r\n    const matchMedia = window.matchMedia(dMediaQuery.query);\r\n    // массив объектов с подходящим брейкпоинтом\r\n    const filteredDNodes = dNodes.filter(\r\n      ({ breakpoint }) => breakpoint === dMediaQuery.breakpoint\r\n    );\r\n    const mediaHandler = getMediaHandler(matchMedia, filteredDNodes);\r\n    matchMedia.addEventListener(\"change\", mediaHandler);\r\n\r\n    mediaHandler();\r\n  });\r\n\r\n  function getDNodes() {\r\n    const result = [];\r\n    const elements = [...document.querySelectorAll(`[${attrName}]`)];\r\n\r\n    elements.forEach((element) => {\r\n      const attr = element.getAttribute(attrName);\r\n      const [toSelector, breakpoint, order] = attr\r\n        .split(\",\")\r\n        .map((val) => val.trim());\r\n\r\n      const to = document.querySelector(toSelector);\r\n\r\n      if (to) {\r\n        result.push({\r\n          parent: element.parentElement,\r\n          element,\r\n          to,\r\n          breakpoint: breakpoint ?? \"767\",\r\n          order:\r\n            order !== undefined\r\n              ? isNumber(order)\r\n                ? Number(order)\r\n                : order\r\n              : \"last\",\r\n          index: -1,\r\n        });\r\n      }\r\n    });\r\n\r\n    return sortDNodes(result);\r\n  }\r\n\r\n  /**\r\n   * @param {dNode} items\r\n   * @returns {dMediaQuery[]}\r\n   */\r\n  function getDMediaQueries(items) {\r\n    const uniqItems = [\r\n      ...new Set(\r\n        items.map(\r\n          ({ breakpoint }) => `(${type}-width: ${breakpoint}px),${breakpoint}`\r\n        )\r\n      ),\r\n    ];\r\n\r\n    return uniqItems.map((item) => {\r\n      const [query, breakpoint] = item.split(\",\");\r\n\r\n      return { query, breakpoint };\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @param {MediaQueryList} matchMedia\r\n   * @param {dNodes} items\r\n   */\r\n  function getMediaHandler(matchMedia, items) {\r\n    return function mediaHandler() {\r\n      if (matchMedia.matches) {\r\n        items.forEach((item) => {\r\n          moveTo(item);\r\n        });\r\n\r\n        items.reverse();\r\n      } else {\r\n        items.forEach((item) => {\r\n          if (item.element.classList.contains(className)) {\r\n            moveBack(item);\r\n          }\r\n        });\r\n\r\n        items.reverse();\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @param {dNode} dNode\r\n   */\r\n  function moveTo(dNode) {\r\n    const { to, element, order } = dNode;\r\n    dNode.index = getIndexInParent(dNode.element, dNode.element.parentElement);\r\n    element.classList.add(className);\r\n\r\n    if (order === \"last\" || order >= to.children.length) {\r\n      to.append(element);\r\n\r\n      return;\r\n    }\r\n\r\n    if (order === \"first\") {\r\n      to.prepend(element);\r\n\r\n      return;\r\n    }\r\n\r\n    to.children[order].before(element);\r\n  }\r\n\r\n  /**\r\n   * @param {dNode} dNode\r\n   */\r\n  function moveBack(dNode) {\r\n    const { parent, element, index } = dNode;\r\n    element.classList.remove(className);\r\n\r\n    if (index >= 0 && parent.children[index]) {\r\n      parent.children[index].before(element);\r\n    } else {\r\n      parent.append(element);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} element\r\n   * @param {HTMLElement} parent\r\n   */\r\n  function getIndexInParent(element, parent) {\r\n    return [...parent.children].indexOf(element);\r\n  }\r\n\r\n  /**\r\n   * Функция сортировки массива по breakpoint и order\r\n   * по возрастанию для type = min\r\n   * по убыванию для type = max\r\n   *\r\n   * @param {dNode[]} items\r\n   */\r\n  function sortDNodes(items) {\r\n    const isMin = type === \"min\" ? 1 : 0;\r\n\r\n    return [...items].sort((a, b) => {\r\n      if (a.breakpoint === b.breakpoint) {\r\n        if (a.order === b.order) {\r\n          return 0;\r\n        }\r\n\r\n        if (a.order === \"first\" || b.order === \"last\") {\r\n          return -1 * isMin;\r\n        }\r\n\r\n        if (a.order === \"last\" || b.order === \"first\") {\r\n          return 1 * isMin;\r\n        }\r\n\r\n        return 0;\r\n      }\r\n\r\n      return (a.breakpoint - b.breakpoint) * isMin;\r\n    });\r\n  }\r\n\r\n  function isNumber(value) {\r\n    return !isNaN(value);\r\n  }\r\n}\r\n","import { useDynamicAdapt } from \"./js/dynamicAdapt\";\r\n\r\n$(function () {\r\n  useDynamicAdapt();\r\n\r\n  const companiesSwiper = new Swiper(\".js-companies-swiper\", {\r\n    slidesPerView: 2,\r\n    spaceBetween: \"30\",\r\n    pagination: {\r\n      el: \".swiper-pagination\",\r\n      clickable: true,\r\n    },\r\n    breakpoints: {\r\n      // when window width is >= 320px\r\n      425: {\r\n        slidesPerView: 3,\r\n      },\r\n    },\r\n  });\r\n\r\n  $(\"#burgerMenu\").click(function () {\r\n    const header = $(\"#headerContainer\");\r\n    header.toggleClass(\"active\");\r\n    $(\"body\").toggleClass(\"active\");\r\n    if (header.hasClass(\"active\")) {\r\n      $(\".header__burger-menu\").show(\"fast\");\r\n    } else {\r\n      $(\".header__burger-menu\").hide(\"fast\");\r\n    }\r\n  });\r\n});\r\n"]}